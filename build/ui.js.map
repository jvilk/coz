{"version":3,"file":"ui.js","sources":["../obj/ui/d3-tip.js","../obj/ui/profile.js","../obj/ui/ui.js"],"sourcesContent":["/**\n * Hack to work around broken d3-tip typings.\n */\nimport * as _d3 from 'd3';\nexport var d3 = _d3;\n//# sourceMappingURL=d3-tip.js.map","import { d3 } from './d3-tip';\n/**\n * Formats the title of a graph.\n * Removes everything but the script in URLs so that function names appear.\n * Also strips out ? parameters from URL.\n */\nfunction formatTitle(t) {\n    var lastSlash = t.lastIndexOf('/') + 1;\n    if (lastSlash === -1) {\n        lastSlash = 0;\n    }\n    var cutoff = t.indexOf('?', lastSlash);\n    if (cutoff === -1) {\n        cutoff = t.indexOf(' ', lastSlash);\n    }\n    return t.slice(lastSlash, cutoff) + \" \" + t.slice(t.indexOf(' ', cutoff));\n}\nfunction getSpeedup(baseline, comparison) {\n    return (baseline - comparison) / baseline;\n}\nfunction max_normalized_area(d) {\n    var max_normalized_area = 0;\n    for (var _i = 0, _a = d.progress_points; _i < _a.length; _i++) {\n        var point = _a[_i];\n        var area = 0;\n        var prev_data = point.measurements[0];\n        for (var _b = 0, _c = point.measurements; _b < _c.length; _b++) {\n            var current_data = _c[_b];\n            var avg_progress_speedup = (prev_data.progress_speedup.value + current_data.progress_speedup.value) / 2;\n            area += avg_progress_speedup * (current_data.speedup - prev_data.speedup);\n            var normalized_area = area / current_data.speedup;\n            if (normalized_area > max_normalized_area)\n                max_normalized_area = normalized_area;\n            prev_data = current_data;\n        }\n    }\n    return max_normalized_area;\n}\nfunction max_progress_speedup(d) {\n    var max_progress_speedup = 0;\n    for (var _i = 0, _a = d.progress_points; _i < _a.length; _i++) {\n        var point = _a[_i];\n        for (var _b = 0, _c = point.measurements; _b < _c.length; _b++) {\n            var measurement = _c[_b];\n            var progress_speedup = measurement.progress_speedup.value;\n            if (progress_speedup > max_progress_speedup)\n                max_progress_speedup = progress_speedup;\n        }\n    }\n    return max_progress_speedup;\n}\nfunction min_progress_speedup(d) {\n    var min_progress_speedup = 0;\n    for (var _i = 0, _a = d.progress_points; _i < _a.length; _i++) {\n        var point = _a[_i];\n        for (var _b = 0, _c = point.measurements; _b < _c.length; _b++) {\n            var measurement = _c[_b];\n            var progress_speedup = measurement.progress_speedup.value;\n            if (progress_speedup < min_progress_speedup)\n                min_progress_speedup = progress_speedup;\n        }\n    }\n    return min_progress_speedup;\n}\nvar sort_functions = {\n    alphabetical: function (a, b) {\n        if (a.name > b.name)\n            return 1;\n        else\n            return -1;\n    },\n    impact: function (a, b) {\n        if (max_normalized_area(b) > max_normalized_area(a))\n            return 1;\n        else\n            return -1;\n    },\n    max_speedup: function (a, b) {\n        if (max_progress_speedup(b) > max_progress_speedup(a))\n            return 1;\n        else\n            return -1;\n    },\n    min_speedup: function (a, b) {\n        if (min_progress_speedup(a) > min_progress_speedup(b))\n            return 1;\n        else\n            return -1;\n    }\n};\nvar Profile = (function () {\n    function Profile(data, container, legend, get_min_points, display_warning) {\n        this._data = null;\n        this._disabled_progress_points = [];\n        this._progress_points = null;\n        this._data = data;\n        this._plot_container = container;\n        this._plot_legend = legend;\n        this._get_min_points = get_min_points;\n        this._display_warning = display_warning;\n    }\n    Profile.initializeWorker = function () {\n        if (!Profile.worker) {\n            Profile.worker = new Worker('./build/worker.js');\n            Profile.worker.addEventListener('message', function (e) {\n                var data = e.data;\n                switch (data.type) {\n                    case 'error':\n                    case 'data':\n                        if (Profile._onProfileReceived) {\n                            Profile._onProfileReceived(data);\n                        }\n                        break;\n                    case 'progress':\n                        if (Profile._onProgress) {\n                            Profile._onProgress(data);\n                        }\n                        break;\n                }\n            });\n        }\n    };\n    Profile.sendMessage = function (m) {\n        Profile.worker.postMessage(m);\n    };\n    Profile.createProfile = function (files, container, legend, get_min_points, display_warning, cb, progress) {\n        Profile._onProfileReceived = function (m) {\n            Profile._onProfileReceived = Profile._onProgress = null;\n            switch (m.type) {\n                case 'error':\n                    return cb(m);\n                case 'data':\n                    return cb(null, new Profile(m.data, container, legend, get_min_points, display_warning));\n            }\n        };\n        Profile._onProgress = progress;\n        Profile.sendMessage({\n            type: 'files',\n            files: files\n        });\n    };\n    Profile.prototype.getProgressPoints = function () {\n        if (this._progress_points) {\n            return this._progress_points;\n        }\n        var points = [];\n        for (var selected in this._data) {\n            for (var point in this._data[selected]) {\n                if (points.indexOf(point) === -1)\n                    points.push(point);\n            }\n        }\n        // Stable order.\n        return this._progress_points = points.sort();\n    };\n    /*  public getBadDataPoints(): ExperimentResult[] {\n        let result = new Array<ExperimentResult>();\n        for (let selected in this._data) {\n          const selectedData = this._data[selected];\n          const experimentResult: ExperimentResult = {\n            name: selected,\n            progress_points: []\n          };\n          for (let pp in selectedData) {\n            const ppData = selectedData[pp];\n            if (!ppData[0]) {\n              continue;\n            }\n            const point: Point = {\n              name: pp,\n              measurements: []\n            };\n            for (let speedup in ppData) {\n              const sData = ppData[+speedup];\n              if (sData.type === 'throughput' && speedup !== '0') {\n                const dataPoints = sData.points;\n                for (const dataPoint of dataPoints) {\n    \n                  dataPoint.duration;\n                }\n              }\n            }\n          }\n        }\n      }*/\n    /**\n     * Returns relevant speedup data given:\n     * - The desired minimum number of points.\n     * - The currently enabled progress points.\n     */\n    Profile.prototype.getSpeedupData = function (min_points) {\n        var _this = this;\n        var progress_points = this.getProgressPoints().filter(function (pp) { return _this._disabled_progress_points.indexOf(pp) === -1; });\n        var result = [];\n        for (var selected in this._data) {\n            var points = [];\n            var points_with_enough = 0;\n            for (var i = 0; i < progress_points.length; i++) {\n                // Set up an empty record for this progress point\n                var point = {\n                    name: progress_points[i],\n                    measurements: new Array()\n                };\n                points.push(point);\n                // Get the data for this progress point, if any\n                var point_data = this._data[selected][progress_points[i]];\n                // Check to be sure the point was observed and we have baseline (zero speedup) data\n                if (point_data !== undefined && point_data[0] !== undefined) {\n                    // Loop over measurements and compute progress speedups in D3-friendly format\n                    var measurements = [];\n                    for (var speedup in point_data) {\n                        var progress_speedup = point_data[speedup].speedup;\n                        // Skip really large negative and positive values\n                        if (progress_speedup.value >= -1 && progress_speedup.value <= 2) {\n                            // Add entry to measurements\n                            measurements.push({\n                                speedup: +speedup,\n                                progress_speedup: progress_speedup,\n                                num_points: point_data[speedup].points.length\n                            });\n                        }\n                    }\n                    // Sort measurements by speedup\n                    measurements.sort(function (a, b) { return a.speedup - b.speedup; });\n                    // Use these measurements if we have enough different points\n                    if (measurements.length >= min_points) {\n                        points_with_enough++;\n                        point.measurements = measurements;\n                    }\n                }\n            }\n            if (points_with_enough > 0) {\n                result.push({\n                    name: selected,\n                    progress_points: points\n                });\n            }\n        }\n        return result;\n    };\n    Profile.prototype.drawLegend = function () {\n        var _this = this;\n        var container = this._plot_legend;\n        var progress_points = this.getProgressPoints();\n        var legend_entries_sel = container.selectAll('p.legend-entry').data(progress_points);\n        // Remove defunct legend entries\n        legend_entries_sel.exit().remove();\n        legend_entries_sel = legend_entries_sel.enter()\n            .append('p')\n            .attr('class', 'legend-entry')\n            .merge(legend_entries_sel);\n        // Remove the noseries class from legend entries\n        legend_entries_sel.classed('noseries', false).text('')\n            .append('i')\n            .attr('class', function (d, i) { return \"fa fa-circle\" + (_this._disabled_progress_points.indexOf(d) !== -1 ? '-o' : '') + \" series\" + i % 4; })\n            .on('click', function (d, i) {\n            var ind = _this._disabled_progress_points.indexOf(d);\n            if (ind !== -1) {\n                // Re-enable.\n                _this._disabled_progress_points.splice(ind, 1);\n            }\n            else if (_this._disabled_progress_points.length + 1 < progress_points.length) {\n                // Disable.\n                _this._disabled_progress_points.push(d);\n            }\n            else {\n                // This is the last enabled progress point. Forbid disabling it.\n                _this._display_warning(\"Warning\", \"At least one progress point must be enabled.\");\n            }\n            _this.drawPlots(true);\n            _this.drawLegend();\n        });\n        legend_entries_sel.append('span')\n            .attr('class', 'path')\n            .text(function (d) { return d; });\n    };\n    Profile.prototype.drawPlots = function (no_animate) {\n        var container = this._plot_container;\n        var min_points = this._get_min_points();\n        var speedup_data = this.getSpeedupData(min_points);\n        /****** Compute y scale limits ******/\n        var min_speedup = Infinity;\n        var max_speedup = -Infinity;\n        for (var i = 0; i < speedup_data.length; i++) {\n            var result = speedup_data[i];\n            var result_min = min_progress_speedup(result);\n            var result_max = max_progress_speedup(result);\n            if (result_min < min_speedup) {\n                min_speedup = result_min;\n            }\n            if (result_max > max_speedup) {\n                max_speedup = result_max;\n            }\n        }\n        // Give some wiggle room to display points.\n        min_speedup *= 1.05;\n        max_speedup *= 1.05;\n        /****** Compute dimensions ******/\n        var container_width = parseInt(container.style('width'), 10);\n        // Add columns while maintaining a target width\n        var cols = 1;\n        while (container_width / (cols + 1) >= 300)\n            cols++;\n        var div_width = container_width / cols;\n        var div_height = 190;\n        var svg_width = div_width - 10;\n        var svg_height = div_height - 40;\n        var margins = { left: 55, right: 20, top: 10, bottom: 35 };\n        var plot_width = svg_width - margins.left - margins.right;\n        var plot_height = svg_height - margins.top - margins.bottom;\n        var radius = 3;\n        var tick_size = 6;\n        // Formatters\n        var axisFormat = d3.format('.0%');\n        var percentFormat = d3.format('+.1%');\n        // Scales\n        var xscale = d3.scaleLinear().domain([0, 1]);\n        var yscale = d3.scaleLinear().domain([min_speedup, max_speedup]);\n        // Axes\n        var xaxis = d3.axisBottom(xscale)\n            .ticks(5)\n            .tickFormat(axisFormat)\n            .tickSizeOuter(tick_size);\n        var yaxis = d3.axisLeft(yscale)\n            .ticks(5)\n            .tickFormat(axisFormat)\n            .tickSizeOuter(tick_size);\n        // Tooltip\n        var tip = d3.tip()\n            .attr('class', 'd3-tip')\n            .offset([-5, 0])\n            .html(function (d) {\n            return \"<strong>Line Speedup:</strong> \" + percentFormat(d.speedup) + \"<br>\\n                <strong>Progress Speedup:</strong> \" + percentFormat(d.progress_speedup.value) + \"<br>\\n                <strong>95% Confidence:</strong> (\" + percentFormat(d.progress_speedup.conf_left) + \", \" + percentFormat(d.progress_speedup.conf_right) + \")<br>\\n                <strong>Data Points:</strong> \" + d.num_points;\n        })\n            .direction(function (d) {\n            // Fast west if near top or right of graph.\n            if (d.speedup > 0.8 || yscale(d.progress_speedup.value) < (yscale(0.8 * (min_speedup + (max_speedup - min_speedup) / 2))))\n                return 'w';\n            else\n                return 'n';\n        });\n        /****** Add or update divs to hold each plot ******/\n        var plot_div_sel = container.selectAll('div.plot')\n            .data(speedup_data, function (d) { return d.name; });\n        function plot_x_pos(d, i) {\n            var col = i % cols;\n            return (col * div_width) + 'px';\n        }\n        function plot_y_pos(d, i) {\n            var row = (i - (i % cols)) / cols;\n            return (row * div_height) + 'px';\n        }\n        // First, remove divs that are disappearing\n        plot_div_sel.exit().transition().duration(200)\n            .style('opacity', 0).remove();\n        // Insert new divs with zero opacity\n        plot_div_sel = plot_div_sel.enter()\n            .append('div')\n            .attr('class', 'plot')\n            .style('margin-bottom', -div_height + 'px')\n            .style('opacity', 0)\n            .style('width', div_width)\n            .merge(plot_div_sel);\n        // Sort remaining plots by the chosen sorting function\n        plot_div_sel = plot_div_sel.sort(sort_functions[(d3.select('#sortby_field').node()).value]);\n        // Move divs into place. Only animate if we are not on a resizing redraw\n        if (!no_animate) {\n            plot_div_sel.transition().duration(400).delay(200)\n                .style('top', plot_y_pos)\n                .style('left', plot_x_pos)\n                .style('opacity', 1);\n        }\n        else {\n            plot_div_sel.style('left', plot_x_pos)\n                .style('top', plot_y_pos);\n        }\n        /****** Insert, remove, and update plot titles ******/\n        var plot_title_sel = plot_div_sel.selectAll('div.plot-title')\n            .data(function (d) { return [formatTitle(d.name)]; });\n        plot_title_sel.exit().remove();\n        plot_title_sel = plot_title_sel.enter().append('div')\n            .attr('class', 'plot-title')\n            .merge(plot_title_sel)\n            .text(function (d) { return d; })\n            .classed('path', true)\n            .style('width', div_width + 'px');\n        /****** Update scales ******/\n        xscale = xscale.domain([0, 1]).range([0, plot_width]);\n        yscale = yscale.domain([min_speedup, max_speedup]).range([plot_height, 0]);\n        /****** Update gridlines ******/\n        xaxis = xaxis.tickSizeInner(-plot_height);\n        yaxis = yaxis.tickSizeInner(-plot_width);\n        /****** Insert and update plot svgs ******/\n        var plot_svg_sel = plot_div_sel.selectAll('svg').data([1]);\n        plot_svg_sel.exit().remove();\n        plot_svg_sel = plot_svg_sel.enter()\n            .append('svg')\n            .merge(plot_svg_sel)\n            .attr('width', svg_width)\n            .attr('height', svg_height)\n            .call(tip);\n        /****** Add or update plot areas ******/\n        var plot_area_sel = plot_svg_sel.selectAll('g.plot_area').data([0]);\n        plot_area_sel.exit().remove();\n        plot_area_sel = plot_area_sel.enter()\n            .append('g')\n            .attr('class', 'plot_area')\n            .merge(plot_area_sel)\n            .attr('transform', \"translate(\" + margins.left + \", \" + margins.top + \")\");\n        /****** Add or update clip paths ******/\n        var clippath_sel = plot_area_sel.selectAll('#clip').data([0]);\n        clippath_sel.exit().remove();\n        clippath_sel = clippath_sel.enter().append('clipPath').attr('id', 'clip').merge(clippath_sel);\n        /****** Add or update clipping rectangles to clip paths ******/\n        var clip_rect_sel = clippath_sel.selectAll('rect').data([0]);\n        clip_rect_sel.exit().remove();\n        clip_rect_sel = clip_rect_sel.enter()\n            .append('rect')\n            .merge(clip_rect_sel)\n            .attr('x', -radius - 1)\n            .attr('y', 0)\n            .attr('width', plot_width + 2 * radius + 2)\n            .attr('height', plot_height);\n        /****** Select plots areas, but preserve the real speedup data ******/\n        var plot_area_sel_speedup = plot_div_sel.select('svg').select('g.plot_area');\n        /****** Add or update x-axes ******/\n        var xaxis_sel = plot_area_sel_speedup.selectAll('g.xaxis').data([0]);\n        xaxis_sel.exit().remove();\n        xaxis_sel = xaxis_sel.enter()\n            .append('g')\n            .attr('class', 'xaxis')\n            .merge(xaxis_sel)\n            .attr('transform', \"translate(0, \" + plot_height + \")\")\n            .call(xaxis);\n        /****** Add or update x-axis titles ******/\n        var xtitle_sel = plot_area_sel_speedup.selectAll('text.xtitle').data([0]);\n        xtitle_sel.exit().remove();\n        xtitle_sel = xtitle_sel.enter()\n            .append('text')\n            .attr('class', 'xtitle')\n            .merge(xtitle_sel)\n            .attr('x', xscale(0.5))\n            .attr('y', 32) // Approximate height of the x-axis\n            .attr('transform', \"translate(0, \" + plot_height + \")\")\n            .style('text-anchor', 'middle')\n            .text('Line speedup');\n        /****** Add or update y-axes ******/\n        var yaxis_sel = plot_area_sel_speedup.selectAll('g.yaxis').data([0]);\n        yaxis_sel.exit().remove();\n        yaxis_sel = yaxis_sel.enter()\n            .append('g')\n            .attr('class', 'yaxis')\n            .merge(yaxis_sel)\n            .call(yaxis);\n        /****** Add or update y-axis title ******/\n        var ytitle_sel = plot_area_sel_speedup.selectAll('text.ytitle').data([0]);\n        ytitle_sel.exit().remove();\n        ytitle_sel = ytitle_sel.enter()\n            .append('text')\n            .attr('class', 'ytitle')\n            .merge(ytitle_sel)\n            .attr('x', -yscale(min_speedup + (max_speedup - min_speedup) / 2)) // x and y are flipped because of rotation\n            .attr('y', -40) // Approximate width of y-axis\n            .attr('transform', 'rotate(-90)')\n            .style('text-anchor', 'middle')\n            .style('alignment-baseline', 'central')\n            .text('Program Speedup');\n        /****** Add or update x-zero line ******/\n        var xzero_sel = plot_area_sel_speedup.selectAll('line.xzero').data([0]);\n        xzero_sel.exit().remove();\n        xzero_sel = xzero_sel.enter()\n            .append('line')\n            .attr('class', 'xzero')\n            .merge(xzero_sel)\n            .attr('x1', xscale(0))\n            .attr('y1', 0)\n            .attr('x2', xscale(0))\n            .attr('y2', plot_height + tick_size);\n        /****** Add or update y-zero line ******/\n        var yzero_sel = plot_area_sel_speedup.selectAll('line.yzero').data([0]);\n        yzero_sel.exit().remove();\n        yzero_sel = yzero_sel.enter()\n            .append('line')\n            .attr('class', 'yzero')\n            .merge(yzero_sel)\n            .attr('x1', -tick_size)\n            .attr('y1', yscale(0))\n            .attr('x2', plot_width)\n            .attr('y2', yscale(0));\n        /****** Add or update series ******/\n        var progress_points = this.getProgressPoints();\n        var series_sel = plot_area_sel_speedup.selectAll('g.series')\n            .data(function (d) { return d.progress_points; }, function (d) { return d.name; });\n        series_sel.exit().remove();\n        series_sel = series_sel.enter()\n            .append('g')\n            .attr('class', 'series')\n            .merge(series_sel)\n            .attr('class', function (d, k) {\n            // Use progress point's position in array to assign it a stable color, no matter\n            // which points are enabled for display.\n            return \"series series\" + (progress_points.indexOf(d.name)) % 5;\n        })\n            .attr('style', 'clip-path: url(#clip);');\n        /****** Add or update trendlines ******/\n        // Configure a loess smoother\n        var loess = science.stats.loess()\n            .bandwidth(0.4)\n            .robustnessIterations(5);\n        // Create an svg line to draw the loess curve\n        var line = d3.line()\n            .x(function (d) { return xscale(d[0]); })\n            .y(function (d) { return yscale(d[1]); })\n            .curve(d3.curveBasis);\n        // Apply the loess smoothing to each series, then draw the lines\n        var lines_sel = series_sel.selectAll('path.line').data(function (d) {\n            var xvals = d.measurements.map(function (e) { return e.speedup; });\n            var yvals = d.measurements.map(function (e) { return e.progress_speedup.value; });\n            var smoothed_y = [];\n            try {\n                smoothed_y = loess(xvals, yvals);\n            }\n            catch (e) {\n                // Bandwidth too small error. Ignore and proceed with empty smoothed line.\n            }\n            // Speedup is always zero for a line speedup of zero\n            smoothed_y[0] = 0;\n            // smoothed_y sometimes has NaN, which throws things off.\n            if (xvals.length > 5 && smoothed_y.filter(function (y) { return isNaN(y); }).length === 0)\n                return [d3.zip(xvals, smoothed_y)];\n            else\n                return [d3.zip(xvals, yvals)];\n        });\n        lines_sel.exit().remove();\n        lines_sel = lines_sel.enter()\n            .append('path')\n            .attr('class', 'line')\n            .merge(lines_sel)\n            .attr('d', line);\n        /****** Add or update error bars ******/\n        function pointMouseover(d, i) {\n            d3.select(this).classed('highlight', true);\n            tip.show(d, i);\n        }\n        function pointMouseout(d, i) {\n            d3.select(this).classed('highlight', false);\n            tip.hide(d, i);\n        }\n        var error_bars_sel = series_sel.selectAll('path.error-bar').data(function (d) { return d.measurements; });\n        error_bars_sel.exit().remove();\n        error_bars_sel = error_bars_sel.enter()\n            .append('path')\n            .attr('class', 'error-bar')\n            .on('mouseover', pointMouseover)\n            .on('mouseout', pointMouseout)\n            .merge(error_bars_sel)\n            .attr('d', function (d) {\n            var cx = d.speedup;\n            var conf_left = d.progress_speedup.conf_left;\n            var conf_right = d.progress_speedup.conf_right;\n            // Error bar. Draw the vertical line first, then the bottom horizontal line, then the top horizontal\n            // line.\n            // See https://codepen.io/AmeliaBR/full/pIder for details on SVG paths.\n            // TODO: Convert to D3 instead.\n            return \"M\" + xscale(cx) + \",\" + yscale(conf_right) + \" L\" + xscale(cx) + \",\" + yscale(conf_left) + \" m\" + -radius + \",0 l\" + 2 * radius + \",0 M\" + (xscale(cx) + 3) + \",\" + yscale(conf_right) + \" l\" + -2 * radius + \",0\";\n        });\n        /****** Add or update points ******/\n        var points_sel = series_sel.selectAll('circle').data(function (d) { return d.measurements; });\n        points_sel.exit().remove();\n        points_sel = points_sel.enter()\n            .append('circle')\n            .on('mouseover', pointMouseover)\n            .on('mouseout', pointMouseout)\n            .merge(points_sel)\n            .attr('r', radius)\n            .attr('cx', function (d) { return xscale(d.speedup); })\n            .attr('cy', function (d) { return yscale(d.progress_speedup.value); });\n    };\n    return Profile;\n}());\nexport default Profile;\nProfile._onProfileReceived = null;\nProfile._onProgress = null;\nProfile.initializeWorker();\n//# sourceMappingURL=profile.js.map","import { d3 } from './d3-tip';\nimport Profile from './profile';\n// Ensure the brower supports the File API\nif (!window.File || !window.FileReader) {\n    alert('The File APIs are not fully supported in this browser.');\n}\nvar current_profile = undefined;\nfunction get_min_points() {\n    return +d3.select('#minpoints_field').node().value;\n}\nfunction display_warning(title, text) {\n    var warning = $(\"<div class=\\\"alert alert-warning alert-dismissible\\\" role=\\\"alert\\\">\\n      <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\n      <strong>\" + title + \":</strong> \" + text + \"\\n    </div>\");\n    $('#warning-area').append(warning);\n    // Fade out after 5 seconds.\n    setTimeout(function () {\n        warning.fadeOut(500, function () {\n            warning.alert('close');\n        });\n    }, 5000);\n}\nfunction create_profile(files, cb) {\n    var bar = $('#profile-loading-bar').attr('aria-valuenow', '0');\n    var modal = $('#profile-loading-dlg').modal('show');\n    Profile.createProfile(files, d3.select('#plot-area'), d3.select('#legend'), get_min_points, display_warning, function (e, p) {\n        modal.modal('hide');\n        if (e) {\n            display_warning(\"Error\", \"Could not parse profile: \" + e.msg + \"<br />\" + e.stack);\n        }\n        else {\n            cb(p);\n        }\n    }, function (p) {\n        bar.css('width', p.percent + \"%\")\n            .text(\"[\" + p.percent + \"%] \" + p.msg);\n    });\n}\nfunction update(resize) {\n    if (current_profile === undefined)\n        return;\n    // Enable the sortby field\n    d3.select('#sortby_field').attr('disabled', null);\n    // Draw the legend\n    current_profile.drawLegend();\n    // Draw plots\n    current_profile.drawPlots(resize);\n    var tooltip = d3.select(\"body\")\n        .append(\"div\")\n        .style(\"position\", \"absolute\")\n        .style(\"z-index\", \"10\")\n        .style(\"visibility\", \"hidden\");\n    // Shorten path strings\n    var paths = d3.selectAll('.path')\n        .classed('path', false)\n        .classed('shortpath', true)\n        .text(function (d) {\n        var parts = d.split('/');\n        var filename = parts[parts.length - 1];\n        return filename;\n    });\n}\n// Set a handler for the load profile button\nd3.select('#load-profile-btn').on('click', function () {\n    // Reset the filename field\n    d3.select('#load-profile-filename').attr('value', '');\n    // Disable the open button\n    d3.select('#load-profile-open-btn').classed('disabled', true);\n});\n// Set a handler for the fake browse button\nd3.select('#load-profile-browse-btn').on('click', function () {\n    $('#load-profile-file').trigger('click');\n});\n// Set a handler for file selection\nd3.select('#load-profile-file').on('change', function () {\n    var file_browser = this;\n    var open_button = d3.select('#load-profile-open-btn');\n    d3.select('#load-profile-filename').attr('value', file_browser.value.replace(/C:\\\\fakepath\\\\/i, ''));\n    open_button.classed('disabled', false)\n        .on('click', function () {\n        var files = [];\n        var fileList = file_browser.files;\n        for (var i = 0; i < fileList.length; i++) {\n            files.push(fileList[i]);\n        }\n        create_profile(files, function (p) {\n            current_profile = p;\n            update();\n        });\n        // Clear the file browser value\n        file_browser.value = '';\n    });\n});\n// Update the plots and minpoints display when dragged or clicked\nd3.select('#minpoints_field').on('input', function () {\n    d3.select('#minpoints_display').text(this.value);\n    update();\n});\nd3.select('#sortby_field').on('change', update);\nd3.select(window).on('resize', function () { update(true); });\nvar sample_profiles = ['blackscholes', 'dedup', 'ferret', 'fluidanimate', 'sqlite', 'swaptions'];\nvar sample_profile_objects = {};\nvar samples_sel = d3.select('#samples').selectAll('.sample-profile').data(sample_profiles)\n    .enter().append('button')\n    .attr('class', 'btn btn-sm btn-default sample-profile')\n    .attr('data-dismiss', 'modal')\n    .attr('loaded', 'no')\n    .text(function (d) { return d; })\n    .on('click', function (d) {\n    var sel = d3.select(this);\n    if (sel.attr('loaded') !== 'yes') {\n        // Avoid race condition: Set first.\n        sel.attr('loaded', 'yes');\n        var xhr_1 = new XMLHttpRequest();\n        xhr_1.open('GET', \"profiles/\" + d + \".coz\");\n        xhr_1.responseType = 'arraybuffer';\n        xhr_1.onload = function () {\n            create_profile([new Blob([xhr_1.response])], function (p) {\n                current_profile = sample_profile_objects[d] = p;\n                update();\n            });\n        };\n        xhr_1.onerror = function () {\n            sel.attr('loaded', 'no');\n            display_warning(\"Error\", \"Failed to load profile for \" + d + \".\");\n        };\n        xhr_1.send();\n    }\n    else {\n        current_profile = sample_profile_objects[d];\n        update();\n    }\n});\n//# sourceMappingURL=ui.js.map"],"names":["this"],"mappings":"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"}